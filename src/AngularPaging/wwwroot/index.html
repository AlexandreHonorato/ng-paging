<!DOCTYPE html>
<html ng-app="app">

<head>
    <meta charset="utf-8" />
    <title>Angular Paging - Sorting</title>
    <link rel="stylesheet" href="http://bootswatch.com/slate/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
</head>

<body>
    <div class="container" ng-controller="productsCtrl as vm">
        <h1 class="text-center">Paginando e Ordenando Server Side com AngularJs</h1>
        <br><br>

        <ul>
            <li>Total de Registros no Banco (Count): {{ vm.count }}</li>
            <li>Registros Carregados (Lenght): {{ vm.products.length }}</li>
            <li>Registros Omitidos (Skip): {{ vm.page.skip }}</li>
            <li>Registros Carregados (Take): {{ vm.page.take }}</li>
            <li>Ordenação (Order): {{ vm.page.order }}</li>
            <li>Direção (Sort): {{ vm.page.sort }}</li>
        </ul>
        <table class="table table-hover table-striped">
            <thead>
                <tr>
                    <th colspan="3">
                        <input type="text" class="pull-right" ng-model="vm.page.take" ng-blur="vm.loadData()">
                    </th>
                </tr>
                <tr>
                    <th class="text-center"><a href="" ng-click="vm.orderBy('Id')">#</a></th>
                    <th class="text-center"><a href="" ng-click="vm.orderBy('Title')">Product</a></th>
                    <th class="text-center"><a href="" ng-click="vm.orderBy('Price')">Price</a></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-if="vm.pageIsLoading">
                    <td class="text-center" colspan="3">
                        <p class="text-center"><i class="fa fa-spin fa-spinner"></i> carregando</p>
                    </td>
                </tr>
                <tr ng-repeat="product in vm.products" ng-if="!vm.pageIsLoading">
                    <td class="text-center">#{{ product.Id }}</td>
                    <td>{{ product.Title }}</td>
                    <td class="text-center">{{ product.Price | currency:"R$ " }}</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">
                        Mostrando itens {{ vm.page.skip }} a {{ vm.page.take }} de {{ vm.count }}
                    </td>
                </tr>            
            </tfoot>
        </table>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/products-controller.js"></script>
</body>

</html>